// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package domain

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

// The `domain.Registration` resource allows you to purchase and manage domain registrations with Scaleway. Using this resource you can register one or more domains for a specified duration, configure auto-renewal and DNSSEC options, and set contact information. You can supply an owner contact either by providing an existing contact ID or by specifying the complete contact details. The resource automatically returns additional contact information (administrative and technical) as provided by the Scaleway API.
//
// Refer to the [Domains and DNS documentation](https://www.scaleway.com/en/docs/network/domains-and-dns/) and the [API documentation](https://developers.scaleway.com/) for more details.
//
// ## Example Usage
//
// ### Purchase a Single Domain
//
// The following example purchases a domain with a one-year registration period and specifies the owner contact details. Administrative and technical contacts are returned by the API.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/domain"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := domain.NewRegistration(ctx, "test", &domain.RegistrationArgs{
//				DomainNames: pulumi.StringArray{
//					pulumi.String("example.com"),
//				},
//				DurationInYears: pulumi.Int(1),
//				OwnerContact: &domain.RegistrationOwnerContactArgs{
//					LegalForm:                 pulumi.String("individual"),
//					Firstname:                 pulumi.String("John"),
//					Lastname:                  pulumi.String("DOE"),
//					Email:                     pulumi.String("john.doe@example.com"),
//					PhoneNumber:               pulumi.String("+1.23456789"),
//					AddressLine1:              pulumi.String("123 Main Street"),
//					City:                      pulumi.String("Paris"),
//					Zip:                       pulumi.String("75001"),
//					Country:                   pulumi.String("FR"),
//					VatIdentificationCode:     pulumi.String("FR12345678901"),
//					CompanyIdentificationCode: pulumi.String("123456789"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Update Domain Settings
//
// You can update the resource to enable auto-renewal and DNSSEC:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/domain"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := domain.NewRegistration(ctx, "test", &domain.RegistrationArgs{
//				DomainNames: pulumi.StringArray{
//					pulumi.String("example.com"),
//				},
//				DurationInYears: pulumi.Int(1),
//				OwnerContact: &domain.RegistrationOwnerContactArgs{
//					LegalForm:                 pulumi.String("individual"),
//					Firstname:                 pulumi.String("John"),
//					Lastname:                  pulumi.String("DOE"),
//					Email:                     pulumi.String("john.doe@example.com"),
//					PhoneNumber:               pulumi.String("+1.23456789"),
//					AddressLine1:              pulumi.String("123 Main Street"),
//					City:                      pulumi.String("Paris"),
//					Zip:                       pulumi.String("75001"),
//					Country:                   pulumi.String("FR"),
//					VatIdentificationCode:     pulumi.String("FR12345678901"),
//					CompanyIdentificationCode: pulumi.String("123456789"),
//				},
//				AutoRenew: pulumi.Bool(true),
//				Dnssec:    pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Purchase Multiple Domains
//
// The following example registers several domains in one go:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/domain"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := domain.NewRegistration(ctx, "multi", &domain.RegistrationArgs{
//				DomainNames: pulumi.StringArray{
//					pulumi.String("domain1.com"),
//					pulumi.String("domain2.com"),
//					pulumi.String("domain3.com"),
//				},
//				DurationInYears: pulumi.Int(1),
//				OwnerContact: &domain.RegistrationOwnerContactArgs{
//					LegalForm:                 pulumi.String("individual"),
//					Firstname:                 pulumi.String("John"),
//					Lastname:                  pulumi.String("DOE"),
//					Email:                     pulumi.String("john.doe@example.com"),
//					PhoneNumber:               pulumi.String("+1.23456789"),
//					AddressLine1:              pulumi.String("123 Main Street"),
//					City:                      pulumi.String("Paris"),
//					Zip:                       pulumi.String("75001"),
//					Country:                   pulumi.String("FR"),
//					VatIdentificationCode:     pulumi.String("FR12345678901"),
//					CompanyIdentificationCode: pulumi.String("123456789"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Contact Blocks
//
// Each contact block supports the following attributes:
//
// - `legalForm` (Required, String): Legal form of the contact.
// - `firstname` (Required, String): First name.
// - `lastname` (Required, String): Last name.
// - `companyName` (Optional, String): Company name.
// - `email` (Required, String): Primary email.
// - `phoneNumber` (Required, String): Primary phone number.
// - `addressLine1` (Required, String): Primary address.
// - `zip` (Required, String): Postal code.
// - `city` (Required, String): City.
// - `country` (Required, String): Country code (ISO format).
// - `vatIdentificationCode` (Required, String): VAT identification code.
// - `companyIdentificationCode` (Required, String): Company identification code.
//
// ## Import
//
// To import an existing domain registration, use:
//
// bash
//
// ```sh
// $ pulumi import scaleway:domain/registration:Registration test <project_id>/<task_id>
// ```
type Registration struct {
	pulumi.CustomResourceState

	// : Administrative contact information.
	AdministrativeContacts RegistrationAdministrativeContactArrayOutput `pulumi:"administrativeContacts"`
	// : Enables or disables auto-renewal.
	AutoRenew pulumi.BoolPtrOutput `pulumi:"autoRenew"`
	// : Enables or disables DNSSEC.
	Dnssec pulumi.BoolPtrOutput `pulumi:"dnssec"`
	// : A list of domain names to be registered.
	DomainNames pulumi.StringArrayOutput `pulumi:"domainNames"`
	// DNSSEC DS record configuration.
	DsRecords RegistrationDsRecordArrayOutput `pulumi:"dsRecords"`
	// : The registration period in years.
	DurationInYears pulumi.IntPtrOutput `pulumi:"durationInYears"`
	// : Details of the owner contact.
	OwnerContact RegistrationOwnerContactOutput `pulumi:"ownerContact"`
	// : The ID of an existing owner contact.
	OwnerContactId pulumi.StringOutput `pulumi:"ownerContactId"`
	// : The Scaleway project ID.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// ID of the task that created the domain.
	TaskId pulumi.StringOutput `pulumi:"taskId"`
	// : Technical contact information.
	TechnicalContacts RegistrationTechnicalContactArrayOutput `pulumi:"technicalContacts"`
}

// NewRegistration registers a new resource with the given unique name, arguments, and options.
func NewRegistration(ctx *pulumi.Context,
	name string, args *RegistrationArgs, opts ...pulumi.ResourceOption) (*Registration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DomainNames == nil {
		return nil, errors.New("invalid value for required argument 'DomainNames'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Registration
	err := ctx.RegisterResource("scaleway:domain/registration:Registration", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetRegistration gets an existing Registration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetRegistration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *RegistrationState, opts ...pulumi.ResourceOption) (*Registration, error) {
	var resource Registration
	err := ctx.ReadResource("scaleway:domain/registration:Registration", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Registration resources.
type registrationState struct {
	// : Administrative contact information.
	AdministrativeContacts []RegistrationAdministrativeContact `pulumi:"administrativeContacts"`
	// : Enables or disables auto-renewal.
	AutoRenew *bool `pulumi:"autoRenew"`
	// : Enables or disables DNSSEC.
	Dnssec *bool `pulumi:"dnssec"`
	// : A list of domain names to be registered.
	DomainNames []string `pulumi:"domainNames"`
	// DNSSEC DS record configuration.
	DsRecords []RegistrationDsRecord `pulumi:"dsRecords"`
	// : The registration period in years.
	DurationInYears *int `pulumi:"durationInYears"`
	// : Details of the owner contact.
	OwnerContact *RegistrationOwnerContact `pulumi:"ownerContact"`
	// : The ID of an existing owner contact.
	OwnerContactId *string `pulumi:"ownerContactId"`
	// : The Scaleway project ID.
	ProjectId *string `pulumi:"projectId"`
	// ID of the task that created the domain.
	TaskId *string `pulumi:"taskId"`
	// : Technical contact information.
	TechnicalContacts []RegistrationTechnicalContact `pulumi:"technicalContacts"`
}

type RegistrationState struct {
	// : Administrative contact information.
	AdministrativeContacts RegistrationAdministrativeContactArrayInput
	// : Enables or disables auto-renewal.
	AutoRenew pulumi.BoolPtrInput
	// : Enables or disables DNSSEC.
	Dnssec pulumi.BoolPtrInput
	// : A list of domain names to be registered.
	DomainNames pulumi.StringArrayInput
	// DNSSEC DS record configuration.
	DsRecords RegistrationDsRecordArrayInput
	// : The registration period in years.
	DurationInYears pulumi.IntPtrInput
	// : Details of the owner contact.
	OwnerContact RegistrationOwnerContactPtrInput
	// : The ID of an existing owner contact.
	OwnerContactId pulumi.StringPtrInput
	// : The Scaleway project ID.
	ProjectId pulumi.StringPtrInput
	// ID of the task that created the domain.
	TaskId pulumi.StringPtrInput
	// : Technical contact information.
	TechnicalContacts RegistrationTechnicalContactArrayInput
}

func (RegistrationState) ElementType() reflect.Type {
	return reflect.TypeOf((*registrationState)(nil)).Elem()
}

type registrationArgs struct {
	// : Enables or disables auto-renewal.
	AutoRenew *bool `pulumi:"autoRenew"`
	// : Enables or disables DNSSEC.
	Dnssec *bool `pulumi:"dnssec"`
	// : A list of domain names to be registered.
	DomainNames []string `pulumi:"domainNames"`
	// : The registration period in years.
	DurationInYears *int `pulumi:"durationInYears"`
	// : Details of the owner contact.
	OwnerContact *RegistrationOwnerContact `pulumi:"ownerContact"`
	// : The ID of an existing owner contact.
	OwnerContactId *string `pulumi:"ownerContactId"`
	// : The Scaleway project ID.
	ProjectId *string `pulumi:"projectId"`
}

// The set of arguments for constructing a Registration resource.
type RegistrationArgs struct {
	// : Enables or disables auto-renewal.
	AutoRenew pulumi.BoolPtrInput
	// : Enables or disables DNSSEC.
	Dnssec pulumi.BoolPtrInput
	// : A list of domain names to be registered.
	DomainNames pulumi.StringArrayInput
	// : The registration period in years.
	DurationInYears pulumi.IntPtrInput
	// : Details of the owner contact.
	OwnerContact RegistrationOwnerContactPtrInput
	// : The ID of an existing owner contact.
	OwnerContactId pulumi.StringPtrInput
	// : The Scaleway project ID.
	ProjectId pulumi.StringPtrInput
}

func (RegistrationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*registrationArgs)(nil)).Elem()
}

type RegistrationInput interface {
	pulumi.Input

	ToRegistrationOutput() RegistrationOutput
	ToRegistrationOutputWithContext(ctx context.Context) RegistrationOutput
}

func (*Registration) ElementType() reflect.Type {
	return reflect.TypeOf((**Registration)(nil)).Elem()
}

func (i *Registration) ToRegistrationOutput() RegistrationOutput {
	return i.ToRegistrationOutputWithContext(context.Background())
}

func (i *Registration) ToRegistrationOutputWithContext(ctx context.Context) RegistrationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RegistrationOutput)
}

// RegistrationArrayInput is an input type that accepts RegistrationArray and RegistrationArrayOutput values.
// You can construct a concrete instance of `RegistrationArrayInput` via:
//
//	RegistrationArray{ RegistrationArgs{...} }
type RegistrationArrayInput interface {
	pulumi.Input

	ToRegistrationArrayOutput() RegistrationArrayOutput
	ToRegistrationArrayOutputWithContext(context.Context) RegistrationArrayOutput
}

type RegistrationArray []RegistrationInput

func (RegistrationArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Registration)(nil)).Elem()
}

func (i RegistrationArray) ToRegistrationArrayOutput() RegistrationArrayOutput {
	return i.ToRegistrationArrayOutputWithContext(context.Background())
}

func (i RegistrationArray) ToRegistrationArrayOutputWithContext(ctx context.Context) RegistrationArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RegistrationArrayOutput)
}

// RegistrationMapInput is an input type that accepts RegistrationMap and RegistrationMapOutput values.
// You can construct a concrete instance of `RegistrationMapInput` via:
//
//	RegistrationMap{ "key": RegistrationArgs{...} }
type RegistrationMapInput interface {
	pulumi.Input

	ToRegistrationMapOutput() RegistrationMapOutput
	ToRegistrationMapOutputWithContext(context.Context) RegistrationMapOutput
}

type RegistrationMap map[string]RegistrationInput

func (RegistrationMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Registration)(nil)).Elem()
}

func (i RegistrationMap) ToRegistrationMapOutput() RegistrationMapOutput {
	return i.ToRegistrationMapOutputWithContext(context.Background())
}

func (i RegistrationMap) ToRegistrationMapOutputWithContext(ctx context.Context) RegistrationMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RegistrationMapOutput)
}

type RegistrationOutput struct{ *pulumi.OutputState }

func (RegistrationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Registration)(nil)).Elem()
}

func (o RegistrationOutput) ToRegistrationOutput() RegistrationOutput {
	return o
}

func (o RegistrationOutput) ToRegistrationOutputWithContext(ctx context.Context) RegistrationOutput {
	return o
}

// : Administrative contact information.
func (o RegistrationOutput) AdministrativeContacts() RegistrationAdministrativeContactArrayOutput {
	return o.ApplyT(func(v *Registration) RegistrationAdministrativeContactArrayOutput { return v.AdministrativeContacts }).(RegistrationAdministrativeContactArrayOutput)
}

// : Enables or disables auto-renewal.
func (o RegistrationOutput) AutoRenew() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Registration) pulumi.BoolPtrOutput { return v.AutoRenew }).(pulumi.BoolPtrOutput)
}

// : Enables or disables DNSSEC.
func (o RegistrationOutput) Dnssec() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Registration) pulumi.BoolPtrOutput { return v.Dnssec }).(pulumi.BoolPtrOutput)
}

// : A list of domain names to be registered.
func (o RegistrationOutput) DomainNames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Registration) pulumi.StringArrayOutput { return v.DomainNames }).(pulumi.StringArrayOutput)
}

// DNSSEC DS record configuration.
func (o RegistrationOutput) DsRecords() RegistrationDsRecordArrayOutput {
	return o.ApplyT(func(v *Registration) RegistrationDsRecordArrayOutput { return v.DsRecords }).(RegistrationDsRecordArrayOutput)
}

// : The registration period in years.
func (o RegistrationOutput) DurationInYears() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Registration) pulumi.IntPtrOutput { return v.DurationInYears }).(pulumi.IntPtrOutput)
}

// : Details of the owner contact.
func (o RegistrationOutput) OwnerContact() RegistrationOwnerContactOutput {
	return o.ApplyT(func(v *Registration) RegistrationOwnerContactOutput { return v.OwnerContact }).(RegistrationOwnerContactOutput)
}

// : The ID of an existing owner contact.
func (o RegistrationOutput) OwnerContactId() pulumi.StringOutput {
	return o.ApplyT(func(v *Registration) pulumi.StringOutput { return v.OwnerContactId }).(pulumi.StringOutput)
}

// : The Scaleway project ID.
func (o RegistrationOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *Registration) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// ID of the task that created the domain.
func (o RegistrationOutput) TaskId() pulumi.StringOutput {
	return o.ApplyT(func(v *Registration) pulumi.StringOutput { return v.TaskId }).(pulumi.StringOutput)
}

// : Technical contact information.
func (o RegistrationOutput) TechnicalContacts() RegistrationTechnicalContactArrayOutput {
	return o.ApplyT(func(v *Registration) RegistrationTechnicalContactArrayOutput { return v.TechnicalContacts }).(RegistrationTechnicalContactArrayOutput)
}

type RegistrationArrayOutput struct{ *pulumi.OutputState }

func (RegistrationArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Registration)(nil)).Elem()
}

func (o RegistrationArrayOutput) ToRegistrationArrayOutput() RegistrationArrayOutput {
	return o
}

func (o RegistrationArrayOutput) ToRegistrationArrayOutputWithContext(ctx context.Context) RegistrationArrayOutput {
	return o
}

func (o RegistrationArrayOutput) Index(i pulumi.IntInput) RegistrationOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Registration {
		return vs[0].([]*Registration)[vs[1].(int)]
	}).(RegistrationOutput)
}

type RegistrationMapOutput struct{ *pulumi.OutputState }

func (RegistrationMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Registration)(nil)).Elem()
}

func (o RegistrationMapOutput) ToRegistrationMapOutput() RegistrationMapOutput {
	return o
}

func (o RegistrationMapOutput) ToRegistrationMapOutputWithContext(ctx context.Context) RegistrationMapOutput {
	return o
}

func (o RegistrationMapOutput) MapIndex(k pulumi.StringInput) RegistrationOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Registration {
		return vs[0].(map[string]*Registration)[vs[1].(string)]
	}).(RegistrationOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*RegistrationInput)(nil)).Elem(), &Registration{})
	pulumi.RegisterInputType(reflect.TypeOf((*RegistrationArrayInput)(nil)).Elem(), RegistrationArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*RegistrationMapInput)(nil)).Elem(), RegistrationMap{})
	pulumi.RegisterOutputType(RegistrationOutput{})
	pulumi.RegisterOutputType(RegistrationArrayOutput{})
	pulumi.RegisterOutputType(RegistrationMapOutput{})
}
