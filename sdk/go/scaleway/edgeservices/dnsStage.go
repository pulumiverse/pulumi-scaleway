// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package edgeservices

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

// Creates and manages Scaleway Edge Services DNS Stages.
//
// ## Example Usage
//
// ### Basic
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/edgeservices"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := edgeservices.NewDnsStage(ctx, "main", &edgeservices.DnsStageArgs{
//				PipelineId: pulumi.Any(mainScalewayEdgeServicesPipeline.Id),
//				Fqdns: pulumi.StringArray{
//					pulumi.String("subdomain.example.com"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// DNS stages can be imported using the `{id}`, e.g.
//
// bash
//
// ```sh
// $ pulumi import scaleway:edgeservices/dnsStage:DnsStage basic 11111111-1111-1111-1111-111111111111
// ```
type DnsStage struct {
	pulumi.CustomResourceState

	// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	BackendStageId pulumi.StringOutput `pulumi:"backendStageId"`
	// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	CacheStageId pulumi.StringOutput `pulumi:"cacheStageId"`
	// The date and time of the creation of the DNS stage.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The Default Fully Qualified Domain Name attached to the stage.
	DefaultFqdn pulumi.StringOutput `pulumi:"defaultFqdn"`
	// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
	Fqdns pulumi.StringArrayOutput `pulumi:"fqdns"`
	// The ID of the pipeline.
	PipelineId pulumi.StringOutput `pulumi:"pipelineId"`
	// `projectId`) The ID of the project the DNS stage is associated with.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	TlsStageId pulumi.StringOutput `pulumi:"tlsStageId"`
	// The type of the stage.
	Type pulumi.StringOutput `pulumi:"type"`
	// The date and time of the last update of the DNS stage.
	UpdatedAt pulumi.StringOutput `pulumi:"updatedAt"`
}

// NewDnsStage registers a new resource with the given unique name, arguments, and options.
func NewDnsStage(ctx *pulumi.Context,
	name string, args *DnsStageArgs, opts ...pulumi.ResourceOption) (*DnsStage, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.PipelineId == nil {
		return nil, errors.New("invalid value for required argument 'PipelineId'")
	}
	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("scaleway:index/edgeServicesDnsStage:EdgeServicesDnsStage"),
		},
	})
	opts = append(opts, aliases)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DnsStage
	err := ctx.RegisterResource("scaleway:edgeservices/dnsStage:DnsStage", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDnsStage gets an existing DnsStage resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDnsStage(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DnsStageState, opts ...pulumi.ResourceOption) (*DnsStage, error) {
	var resource DnsStage
	err := ctx.ReadResource("scaleway:edgeservices/dnsStage:DnsStage", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DnsStage resources.
type dnsStageState struct {
	// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	BackendStageId *string `pulumi:"backendStageId"`
	// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	CacheStageId *string `pulumi:"cacheStageId"`
	// The date and time of the creation of the DNS stage.
	CreatedAt *string `pulumi:"createdAt"`
	// The Default Fully Qualified Domain Name attached to the stage.
	DefaultFqdn *string `pulumi:"defaultFqdn"`
	// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
	Fqdns []string `pulumi:"fqdns"`
	// The ID of the pipeline.
	PipelineId *string `pulumi:"pipelineId"`
	// `projectId`) The ID of the project the DNS stage is associated with.
	ProjectId *string `pulumi:"projectId"`
	// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	TlsStageId *string `pulumi:"tlsStageId"`
	// The type of the stage.
	Type *string `pulumi:"type"`
	// The date and time of the last update of the DNS stage.
	UpdatedAt *string `pulumi:"updatedAt"`
}

type DnsStageState struct {
	// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	BackendStageId pulumi.StringPtrInput
	// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	CacheStageId pulumi.StringPtrInput
	// The date and time of the creation of the DNS stage.
	CreatedAt pulumi.StringPtrInput
	// The Default Fully Qualified Domain Name attached to the stage.
	DefaultFqdn pulumi.StringPtrInput
	// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
	Fqdns pulumi.StringArrayInput
	// The ID of the pipeline.
	PipelineId pulumi.StringPtrInput
	// `projectId`) The ID of the project the DNS stage is associated with.
	ProjectId pulumi.StringPtrInput
	// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	TlsStageId pulumi.StringPtrInput
	// The type of the stage.
	Type pulumi.StringPtrInput
	// The date and time of the last update of the DNS stage.
	UpdatedAt pulumi.StringPtrInput
}

func (DnsStageState) ElementType() reflect.Type {
	return reflect.TypeOf((*dnsStageState)(nil)).Elem()
}

type dnsStageArgs struct {
	// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	BackendStageId *string `pulumi:"backendStageId"`
	// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	CacheStageId *string `pulumi:"cacheStageId"`
	// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
	Fqdns []string `pulumi:"fqdns"`
	// The ID of the pipeline.
	PipelineId string `pulumi:"pipelineId"`
	// `projectId`) The ID of the project the DNS stage is associated with.
	ProjectId *string `pulumi:"projectId"`
	// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	TlsStageId *string `pulumi:"tlsStageId"`
}

// The set of arguments for constructing a DnsStage resource.
type DnsStageArgs struct {
	// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	BackendStageId pulumi.StringPtrInput
	// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	CacheStageId pulumi.StringPtrInput
	// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
	Fqdns pulumi.StringArrayInput
	// The ID of the pipeline.
	PipelineId pulumi.StringInput
	// `projectId`) The ID of the project the DNS stage is associated with.
	ProjectId pulumi.StringPtrInput
	// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
	TlsStageId pulumi.StringPtrInput
}

func (DnsStageArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dnsStageArgs)(nil)).Elem()
}

type DnsStageInput interface {
	pulumi.Input

	ToDnsStageOutput() DnsStageOutput
	ToDnsStageOutputWithContext(ctx context.Context) DnsStageOutput
}

func (*DnsStage) ElementType() reflect.Type {
	return reflect.TypeOf((**DnsStage)(nil)).Elem()
}

func (i *DnsStage) ToDnsStageOutput() DnsStageOutput {
	return i.ToDnsStageOutputWithContext(context.Background())
}

func (i *DnsStage) ToDnsStageOutputWithContext(ctx context.Context) DnsStageOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DnsStageOutput)
}

// DnsStageArrayInput is an input type that accepts DnsStageArray and DnsStageArrayOutput values.
// You can construct a concrete instance of `DnsStageArrayInput` via:
//
//	DnsStageArray{ DnsStageArgs{...} }
type DnsStageArrayInput interface {
	pulumi.Input

	ToDnsStageArrayOutput() DnsStageArrayOutput
	ToDnsStageArrayOutputWithContext(context.Context) DnsStageArrayOutput
}

type DnsStageArray []DnsStageInput

func (DnsStageArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DnsStage)(nil)).Elem()
}

func (i DnsStageArray) ToDnsStageArrayOutput() DnsStageArrayOutput {
	return i.ToDnsStageArrayOutputWithContext(context.Background())
}

func (i DnsStageArray) ToDnsStageArrayOutputWithContext(ctx context.Context) DnsStageArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DnsStageArrayOutput)
}

// DnsStageMapInput is an input type that accepts DnsStageMap and DnsStageMapOutput values.
// You can construct a concrete instance of `DnsStageMapInput` via:
//
//	DnsStageMap{ "key": DnsStageArgs{...} }
type DnsStageMapInput interface {
	pulumi.Input

	ToDnsStageMapOutput() DnsStageMapOutput
	ToDnsStageMapOutputWithContext(context.Context) DnsStageMapOutput
}

type DnsStageMap map[string]DnsStageInput

func (DnsStageMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DnsStage)(nil)).Elem()
}

func (i DnsStageMap) ToDnsStageMapOutput() DnsStageMapOutput {
	return i.ToDnsStageMapOutputWithContext(context.Background())
}

func (i DnsStageMap) ToDnsStageMapOutputWithContext(ctx context.Context) DnsStageMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DnsStageMapOutput)
}

type DnsStageOutput struct{ *pulumi.OutputState }

func (DnsStageOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DnsStage)(nil)).Elem()
}

func (o DnsStageOutput) ToDnsStageOutput() DnsStageOutput {
	return o
}

func (o DnsStageOutput) ToDnsStageOutputWithContext(ctx context.Context) DnsStageOutput {
	return o
}

// The backend stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
func (o DnsStageOutput) BackendStageId() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.BackendStageId }).(pulumi.StringOutput)
}

// The cache stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
func (o DnsStageOutput) CacheStageId() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.CacheStageId }).(pulumi.StringOutput)
}

// The date and time of the creation of the DNS stage.
func (o DnsStageOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The Default Fully Qualified Domain Name attached to the stage.
func (o DnsStageOutput) DefaultFqdn() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.DefaultFqdn }).(pulumi.StringOutput)
}

// Fully Qualified Domain Name (in the format subdomain.example.com) to attach to the stage.
func (o DnsStageOutput) Fqdns() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringArrayOutput { return v.Fqdns }).(pulumi.StringArrayOutput)
}

// The ID of the pipeline.
func (o DnsStageOutput) PipelineId() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.PipelineId }).(pulumi.StringOutput)
}

// `projectId`) The ID of the project the DNS stage is associated with.
func (o DnsStageOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// The TLS stage ID the DNS stage will be linked to. Only one of `backendStageId`, `cacheStageId` and `tlsStageId` should be specified.
func (o DnsStageOutput) TlsStageId() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.TlsStageId }).(pulumi.StringOutput)
}

// The type of the stage.
func (o DnsStageOutput) Type() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.Type }).(pulumi.StringOutput)
}

// The date and time of the last update of the DNS stage.
func (o DnsStageOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *DnsStage) pulumi.StringOutput { return v.UpdatedAt }).(pulumi.StringOutput)
}

type DnsStageArrayOutput struct{ *pulumi.OutputState }

func (DnsStageArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DnsStage)(nil)).Elem()
}

func (o DnsStageArrayOutput) ToDnsStageArrayOutput() DnsStageArrayOutput {
	return o
}

func (o DnsStageArrayOutput) ToDnsStageArrayOutputWithContext(ctx context.Context) DnsStageArrayOutput {
	return o
}

func (o DnsStageArrayOutput) Index(i pulumi.IntInput) DnsStageOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DnsStage {
		return vs[0].([]*DnsStage)[vs[1].(int)]
	}).(DnsStageOutput)
}

type DnsStageMapOutput struct{ *pulumi.OutputState }

func (DnsStageMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DnsStage)(nil)).Elem()
}

func (o DnsStageMapOutput) ToDnsStageMapOutput() DnsStageMapOutput {
	return o
}

func (o DnsStageMapOutput) ToDnsStageMapOutputWithContext(ctx context.Context) DnsStageMapOutput {
	return o
}

func (o DnsStageMapOutput) MapIndex(k pulumi.StringInput) DnsStageOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DnsStage {
		return vs[0].(map[string]*DnsStage)[vs[1].(string)]
	}).(DnsStageOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DnsStageInput)(nil)).Elem(), &DnsStage{})
	pulumi.RegisterInputType(reflect.TypeOf((*DnsStageArrayInput)(nil)).Elem(), DnsStageArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DnsStageMapInput)(nil)).Elem(), DnsStageMap{})
	pulumi.RegisterOutputType(DnsStageOutput{})
	pulumi.RegisterOutputType(DnsStageArrayOutput{})
	pulumi.RegisterOutputType(DnsStageMapOutput{})
}
