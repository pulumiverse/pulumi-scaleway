// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package iam

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

var _ = internal.GetEnvOrDefault

type PolicyRule struct {
	// The condition of the rule.
	//
	// **_TIP:_** You can use the Scaleway CLI to list the permissions details. e.g:
	Condition *string `pulumi:"condition"`
	// ID of organization scoped to the rule, this can be used to create a rule for all projects in an organization.
	OrganizationId *string `pulumi:"organizationId"`
	// Names of permission sets bind to the rule.
	PermissionSetNames []string `pulumi:"permissionSetNames"`
	// List of project IDs scoped to the rule.
	//
	// > **Important** One `organizationId` or `projectIds` must be set per rule.
	ProjectIds []string `pulumi:"projectIds"`
}

// PolicyRuleInput is an input type that accepts PolicyRuleArgs and PolicyRuleOutput values.
// You can construct a concrete instance of `PolicyRuleInput` via:
//
//	PolicyRuleArgs{...}
type PolicyRuleInput interface {
	pulumi.Input

	ToPolicyRuleOutput() PolicyRuleOutput
	ToPolicyRuleOutputWithContext(context.Context) PolicyRuleOutput
}

type PolicyRuleArgs struct {
	// The condition of the rule.
	//
	// **_TIP:_** You can use the Scaleway CLI to list the permissions details. e.g:
	Condition pulumi.StringPtrInput `pulumi:"condition"`
	// ID of organization scoped to the rule, this can be used to create a rule for all projects in an organization.
	OrganizationId pulumi.StringPtrInput `pulumi:"organizationId"`
	// Names of permission sets bind to the rule.
	PermissionSetNames pulumi.StringArrayInput `pulumi:"permissionSetNames"`
	// List of project IDs scoped to the rule.
	//
	// > **Important** One `organizationId` or `projectIds` must be set per rule.
	ProjectIds pulumi.StringArrayInput `pulumi:"projectIds"`
}

func (PolicyRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*PolicyRule)(nil)).Elem()
}

func (i PolicyRuleArgs) ToPolicyRuleOutput() PolicyRuleOutput {
	return i.ToPolicyRuleOutputWithContext(context.Background())
}

func (i PolicyRuleArgs) ToPolicyRuleOutputWithContext(ctx context.Context) PolicyRuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PolicyRuleOutput)
}

// PolicyRuleArrayInput is an input type that accepts PolicyRuleArray and PolicyRuleArrayOutput values.
// You can construct a concrete instance of `PolicyRuleArrayInput` via:
//
//	PolicyRuleArray{ PolicyRuleArgs{...} }
type PolicyRuleArrayInput interface {
	pulumi.Input

	ToPolicyRuleArrayOutput() PolicyRuleArrayOutput
	ToPolicyRuleArrayOutputWithContext(context.Context) PolicyRuleArrayOutput
}

type PolicyRuleArray []PolicyRuleInput

func (PolicyRuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]PolicyRule)(nil)).Elem()
}

func (i PolicyRuleArray) ToPolicyRuleArrayOutput() PolicyRuleArrayOutput {
	return i.ToPolicyRuleArrayOutputWithContext(context.Background())
}

func (i PolicyRuleArray) ToPolicyRuleArrayOutputWithContext(ctx context.Context) PolicyRuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PolicyRuleArrayOutput)
}

type PolicyRuleOutput struct{ *pulumi.OutputState }

func (PolicyRuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*PolicyRule)(nil)).Elem()
}

func (o PolicyRuleOutput) ToPolicyRuleOutput() PolicyRuleOutput {
	return o
}

func (o PolicyRuleOutput) ToPolicyRuleOutputWithContext(ctx context.Context) PolicyRuleOutput {
	return o
}

// The condition of the rule.
//
// **_TIP:_** You can use the Scaleway CLI to list the permissions details. e.g:
func (o PolicyRuleOutput) Condition() pulumi.StringPtrOutput {
	return o.ApplyT(func(v PolicyRule) *string { return v.Condition }).(pulumi.StringPtrOutput)
}

// ID of organization scoped to the rule, this can be used to create a rule for all projects in an organization.
func (o PolicyRuleOutput) OrganizationId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v PolicyRule) *string { return v.OrganizationId }).(pulumi.StringPtrOutput)
}

// Names of permission sets bind to the rule.
func (o PolicyRuleOutput) PermissionSetNames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v PolicyRule) []string { return v.PermissionSetNames }).(pulumi.StringArrayOutput)
}

// List of project IDs scoped to the rule.
//
// > **Important** One `organizationId` or `projectIds` must be set per rule.
func (o PolicyRuleOutput) ProjectIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v PolicyRule) []string { return v.ProjectIds }).(pulumi.StringArrayOutput)
}

type PolicyRuleArrayOutput struct{ *pulumi.OutputState }

func (PolicyRuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]PolicyRule)(nil)).Elem()
}

func (o PolicyRuleArrayOutput) ToPolicyRuleArrayOutput() PolicyRuleArrayOutput {
	return o
}

func (o PolicyRuleArrayOutput) ToPolicyRuleArrayOutputWithContext(ctx context.Context) PolicyRuleArrayOutput {
	return o
}

func (o PolicyRuleArrayOutput) Index(i pulumi.IntInput) PolicyRuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) PolicyRule {
		return vs[0].([]PolicyRule)[vs[1].(int)]
	}).(PolicyRuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PolicyRuleInput)(nil)).Elem(), PolicyRuleArgs{})
	pulumi.RegisterInputType(reflect.TypeOf((*PolicyRuleArrayInput)(nil)).Elem(), PolicyRuleArray{})
	pulumi.RegisterOutputType(PolicyRuleOutput{})
	pulumi.RegisterOutputType(PolicyRuleArrayOutput{})
}
