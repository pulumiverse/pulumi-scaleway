// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package instance

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

// Creates and manages Scaleway compute Instances. For more information, see the [API documentation](https://www.scaleway.com/en/developers/api/instance/#path-instances-list-all-instances).
//
// Please check our [FAQ - Instances](https://www.scaleway.com/en/docs/faq/instances).
//
// ## Example Usage
//
// ### Basic
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			publicIp, err := instance.NewIp(ctx, "public_ip", nil)
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "web", &instance.ServerArgs{
//				Type:  pulumi.String("DEV1-S"),
//				Image: pulumi.String("ubuntu_jammy"),
//				IpId:  publicIp.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With additional volumes and tags
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/block"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			data, err := block.NewVolume(ctx, "data", &block.VolumeArgs{
//				SizeInGb: pulumi.Int(100),
//				Iops:     pulumi.Int(5000),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "web", &instance.ServerArgs{
//				Type:  pulumi.String("DEV1-S"),
//				Image: pulumi.String("ubuntu_jammy"),
//				Tags: pulumi.StringArray{
//					pulumi.String("hello"),
//					pulumi.String("public"),
//				},
//				RootVolume: &instance.ServerRootVolumeArgs{
//					DeleteOnTermination: pulumi.Bool(false),
//				},
//				AdditionalVolumeIds: pulumi.StringArray{
//					data.ID(),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With filesystem
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/block"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			volume, err := block.NewVolume(ctx, "volume", &block.VolumeArgs{
//				Iops:     pulumi.Int(15000),
//				SizeInGb: pulumi.Int(15),
//			})
//			if err != nil {
//				return err
//			}
//			terraformInstanceFilesystem, err := scaleway.NewFileFilesystem(ctx, "terraform_instance_filesystem", &scaleway.FileFilesystemArgs{
//				Name:     pulumi.String("filesystem-instance-terraform"),
//				SizeInGb: pulumi.Int(100),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "base", &instance.ServerArgs{
//				Type:  pulumi.String("POP2-HM-2C-16G"),
//				State: pulumi.String("started"),
//				Tags: pulumi.StringArray{
//					pulumi.String("terraform-test"),
//					pulumi.String("scaleway_instance_server"),
//					pulumi.String("state"),
//				},
//				RootVolume: &instance.ServerRootVolumeArgs{
//					VolumeType: pulumi.String("sbs_volume"),
//					VolumeId:   volume.ID(),
//				},
//				Filesystems: instance.ServerFilesystemArray{
//					&instance.ServerFilesystemArgs{
//						FilesystemId: terraformInstanceFilesystem.ID(),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With a reserved IP
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			ip, err := instance.NewIp(ctx, "ip", nil)
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "web", &instance.ServerArgs{
//				Type:  pulumi.String("DEV1-S"),
//				Image: pulumi.String("f974feac-abae-4365-b988-8ec7d1cec10d"),
//				Tags: pulumi.StringArray{
//					pulumi.String("hello"),
//					pulumi.String("public"),
//				},
//				IpId: ip.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With security group
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			www, err := instance.NewSecurityGroup(ctx, "www", &instance.SecurityGroupArgs{
//				InboundDefaultPolicy:  pulumi.String("drop"),
//				OutboundDefaultPolicy: pulumi.String("accept"),
//				InboundRules: instance.SecurityGroupInboundRuleArray{
//					&instance.SecurityGroupInboundRuleArgs{
//						Action: pulumi.String("accept"),
//						Port:   pulumi.Int(22),
//						Ip:     pulumi.String("212.47.225.64"),
//					},
//					&instance.SecurityGroupInboundRuleArgs{
//						Action: pulumi.String("accept"),
//						Port:   pulumi.Int(80),
//					},
//					&instance.SecurityGroupInboundRuleArgs{
//						Action: pulumi.String("accept"),
//						Port:   pulumi.Int(443),
//					},
//				},
//				OutboundRules: instance.SecurityGroupOutboundRuleArray{
//					&instance.SecurityGroupOutboundRuleArgs{
//						Action:  pulumi.String("drop"),
//						IpRange: pulumi.String("10.20.0.0/24"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "web", &instance.ServerArgs{
//				Type:            pulumi.String("DEV1-S"),
//				Image:           pulumi.String("ubuntu_jammy"),
//				SecurityGroupId: www.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With private network
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/network"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			pn01, err := network.NewPrivateNetwork(ctx, "pn01", &network.PrivateNetworkArgs{
//				Name: pulumi.String("private_network_instance"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "base", &instance.ServerArgs{
//				Image: pulumi.String("ubuntu_jammy"),
//				Type:  pulumi.String("DEV1-S"),
//				PrivateNetworks: instance.ServerPrivateNetworkArray{
//					&instance.ServerPrivateNetworkArgs{
//						PnId: pn01.ID(),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Root volume configuration
//
// ### Resized block volume with installed image
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := instance.NewServer(ctx, "image", &instance.ServerArgs{
//				Type:  pulumi.String("PRO2-XXS"),
//				Image: pulumi.String("ubuntu_jammy"),
//				RootVolume: &instance.ServerRootVolumeArgs{
//					SizeInGb: pulumi.Int(100),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### From snapshot
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/block"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			snapshot, err := block.LookupSnapshot(ctx, &block.LookupSnapshotArgs{
//				Name: pulumi.StringRef("my_snapshot"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			fromSnapshot, err := block.NewVolume(ctx, "from_snapshot", &block.VolumeArgs{
//				SnapshotId: pulumi.String(snapshot.Id),
//				Iops:       pulumi.Int(5000),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "from_snapshot", &instance.ServerArgs{
//				Type: pulumi.String("PRO2-XXS"),
//				RootVolume: &instance.ServerRootVolumeArgs{
//					VolumeId:   fromSnapshot.ID(),
//					VolumeType: pulumi.String("sbs_volume"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Using Scaleway Block Storage (SBS) volume
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := instance.NewServer(ctx, "server", &instance.ServerArgs{
//				Type:  pulumi.String("PLAY2-MICRO"),
//				Image: pulumi.String("ubuntu_jammy"),
//				RootVolume: &instance.ServerRootVolumeArgs{
//					VolumeType: pulumi.String("sbs_volume"),
//					SbsIops:    pulumi.Int(15000),
//					SizeInGb:   pulumi.Int(50),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Private Network
//
// > **Important:** Updates to `privateNetwork` will recreate a new private network interface.
//
// - `pnId` - (Required) The private network ID where to connect.
// - `macAddress` The private NIC MAC address.
// - `status` The private NIC state.
// - `zone` - (Defaults to provider `zone`) The zone in which the server must be created.
//
// > **Important:** You can only attach an instance in the same zone as a private network.
// **Important:** Instance supports a maximum of 8 different private networks.
//
// ## Import
//
// Instance servers can be imported using the `{zone}/{id}`, e.g.
//
// bash
//
// ```sh
// $ pulumi import scaleway:instance/server:Server web fr-par-1/11111111-1111-1111-1111-111111111111
// ```
type Server struct {
	pulumi.CustomResourceState

	// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
	// attached to the server. Updates to this field will trigger a stop/start of the server.
	//
	// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
	//
	// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
	AdditionalVolumeIds pulumi.StringArrayOutput `pulumi:"additionalVolumeIds"`
	// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
	// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
	// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
	AdminPasswordEncryptionSshKeyId pulumi.StringPtrOutput `pulumi:"adminPasswordEncryptionSshKeyId"`
	// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
	BootType pulumi.StringPtrOutput `pulumi:"bootType"`
	// ID of the target bootscript (set bootType to bootscript)
	//
	// Deprecated: bootscript is not supported anymore.
	BootscriptId pulumi.StringOutput `pulumi:"bootscriptId"`
	// The cloud init script associated with this server
	CloudInit pulumi.StringOutput `pulumi:"cloudInit"`
	// If true a dynamic IP will be attached to the server.
	EnableDynamicIp pulumi.BoolPtrOutput `pulumi:"enableDynamicIp"`
	// List of filesystems attached to the server.
	Filesystems ServerFilesystemArrayOutput `pulumi:"filesystems"`
	// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
	// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
	//
	// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
	//
	// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
	Image pulumi.StringPtrOutput `pulumi:"image"`
	// The ID of the reserved IP that is attached to the server.
	IpId pulumi.StringPtrOutput `pulumi:"ipId"`
	// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
	//
	// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
	IpIds pulumi.StringArrayOutput `pulumi:"ipIds"`
	// The name of the server.
	Name pulumi.StringOutput `pulumi:"name"`
	// The organization ID the server is associated with.
	OrganizationId pulumi.StringOutput `pulumi:"organizationId"`
	// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
	//
	// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
	PlacementGroupId pulumi.StringPtrOutput `pulumi:"placementGroupId"`
	// (Deprecated) Always false, use instancePlacementGroup resource to known when the placement group policy is respected.
	PlacementGroupPolicyRespected pulumi.BoolOutput `pulumi:"placementGroupPolicyRespected"`
	// The list of private IPv4 and IPv6 addresses associated with the resource.
	PrivateIps ServerPrivateIpArrayOutput `pulumi:"privateIps"`
	// The private network associated with the server.
	// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
	PrivateNetworks ServerPrivateNetworkArrayOutput `pulumi:"privateNetworks"`
	// `projectId`) The ID of the project the server is associated with.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// Set to true to activate server protection option.
	Protected pulumi.BoolPtrOutput `pulumi:"protected"`
	// The list of public IPs of the server.
	PublicIps ServerPublicIpArrayOutput `pulumi:"publicIps"`
	// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
	ReplaceOnTypeChange pulumi.BoolPtrOutput `pulumi:"replaceOnTypeChange"`
	// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
	RootVolume ServerRootVolumeOutput `pulumi:"rootVolume"`
	// The security group the server is attached to
	SecurityGroupId pulumi.StringOutput `pulumi:"securityGroupId"`
	// The state of the server. Possible values are: `started`, `stopped` or `standby`.
	State pulumi.StringPtrOutput `pulumi:"state"`
	// The tags associated with the server.
	Tags pulumi.StringArrayOutput `pulumi:"tags"`
	// The commercial type of the server.
	// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
	// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
	// Use `replaceOnTypeChange` to trigger replacement instead of migration.
	//
	// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
	Type pulumi.StringOutput `pulumi:"type"`
	// The user data associated with the server.
	// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
	// You can define values using:
	// - string
	// - UTF-8 encoded file content using file
	// - Binary files using filebase64.
	UserData pulumi.StringMapOutput `pulumi:"userData"`
	// `zone`) The zone in which the server should be created.
	Zone pulumi.StringPtrOutput `pulumi:"zone"`
}

// NewServer registers a new resource with the given unique name, arguments, and options.
func NewServer(ctx *pulumi.Context,
	name string, args *ServerArgs, opts ...pulumi.ResourceOption) (*Server, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Type == nil {
		return nil, errors.New("invalid value for required argument 'Type'")
	}
	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("scaleway:index/instanceServer:InstanceServer"),
		},
	})
	opts = append(opts, aliases)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Server
	err := ctx.RegisterResource("scaleway:instance/server:Server", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetServer gets an existing Server resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetServer(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ServerState, opts ...pulumi.ResourceOption) (*Server, error) {
	var resource Server
	err := ctx.ReadResource("scaleway:instance/server:Server", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Server resources.
type serverState struct {
	// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
	// attached to the server. Updates to this field will trigger a stop/start of the server.
	//
	// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
	//
	// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
	AdditionalVolumeIds []string `pulumi:"additionalVolumeIds"`
	// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
	// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
	// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
	AdminPasswordEncryptionSshKeyId *string `pulumi:"adminPasswordEncryptionSshKeyId"`
	// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
	BootType *string `pulumi:"bootType"`
	// ID of the target bootscript (set bootType to bootscript)
	//
	// Deprecated: bootscript is not supported anymore.
	BootscriptId *string `pulumi:"bootscriptId"`
	// The cloud init script associated with this server
	CloudInit *string `pulumi:"cloudInit"`
	// If true a dynamic IP will be attached to the server.
	EnableDynamicIp *bool `pulumi:"enableDynamicIp"`
	// List of filesystems attached to the server.
	Filesystems []ServerFilesystem `pulumi:"filesystems"`
	// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
	// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
	//
	// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
	//
	// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
	Image *string `pulumi:"image"`
	// The ID of the reserved IP that is attached to the server.
	IpId *string `pulumi:"ipId"`
	// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
	//
	// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
	IpIds []string `pulumi:"ipIds"`
	// The name of the server.
	Name *string `pulumi:"name"`
	// The organization ID the server is associated with.
	OrganizationId *string `pulumi:"organizationId"`
	// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
	//
	// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
	PlacementGroupId *string `pulumi:"placementGroupId"`
	// (Deprecated) Always false, use instancePlacementGroup resource to known when the placement group policy is respected.
	PlacementGroupPolicyRespected *bool `pulumi:"placementGroupPolicyRespected"`
	// The list of private IPv4 and IPv6 addresses associated with the resource.
	PrivateIps []ServerPrivateIp `pulumi:"privateIps"`
	// The private network associated with the server.
	// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
	PrivateNetworks []ServerPrivateNetwork `pulumi:"privateNetworks"`
	// `projectId`) The ID of the project the server is associated with.
	ProjectId *string `pulumi:"projectId"`
	// Set to true to activate server protection option.
	Protected *bool `pulumi:"protected"`
	// The list of public IPs of the server.
	PublicIps []ServerPublicIp `pulumi:"publicIps"`
	// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
	ReplaceOnTypeChange *bool `pulumi:"replaceOnTypeChange"`
	// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
	RootVolume *ServerRootVolume `pulumi:"rootVolume"`
	// The security group the server is attached to
	SecurityGroupId *string `pulumi:"securityGroupId"`
	// The state of the server. Possible values are: `started`, `stopped` or `standby`.
	State *string `pulumi:"state"`
	// The tags associated with the server.
	Tags []string `pulumi:"tags"`
	// The commercial type of the server.
	// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
	// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
	// Use `replaceOnTypeChange` to trigger replacement instead of migration.
	//
	// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
	Type *string `pulumi:"type"`
	// The user data associated with the server.
	// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
	// You can define values using:
	// - string
	// - UTF-8 encoded file content using file
	// - Binary files using filebase64.
	UserData map[string]string `pulumi:"userData"`
	// `zone`) The zone in which the server should be created.
	Zone *string `pulumi:"zone"`
}

type ServerState struct {
	// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
	// attached to the server. Updates to this field will trigger a stop/start of the server.
	//
	// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
	//
	// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
	AdditionalVolumeIds pulumi.StringArrayInput
	// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
	// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
	// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
	AdminPasswordEncryptionSshKeyId pulumi.StringPtrInput
	// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
	BootType pulumi.StringPtrInput
	// ID of the target bootscript (set bootType to bootscript)
	//
	// Deprecated: bootscript is not supported anymore.
	BootscriptId pulumi.StringPtrInput
	// The cloud init script associated with this server
	CloudInit pulumi.StringPtrInput
	// If true a dynamic IP will be attached to the server.
	EnableDynamicIp pulumi.BoolPtrInput
	// List of filesystems attached to the server.
	Filesystems ServerFilesystemArrayInput
	// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
	// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
	//
	// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
	//
	// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
	Image pulumi.StringPtrInput
	// The ID of the reserved IP that is attached to the server.
	IpId pulumi.StringPtrInput
	// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
	//
	// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
	IpIds pulumi.StringArrayInput
	// The name of the server.
	Name pulumi.StringPtrInput
	// The organization ID the server is associated with.
	OrganizationId pulumi.StringPtrInput
	// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
	//
	// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
	PlacementGroupId pulumi.StringPtrInput
	// (Deprecated) Always false, use instancePlacementGroup resource to known when the placement group policy is respected.
	PlacementGroupPolicyRespected pulumi.BoolPtrInput
	// The list of private IPv4 and IPv6 addresses associated with the resource.
	PrivateIps ServerPrivateIpArrayInput
	// The private network associated with the server.
	// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
	PrivateNetworks ServerPrivateNetworkArrayInput
	// `projectId`) The ID of the project the server is associated with.
	ProjectId pulumi.StringPtrInput
	// Set to true to activate server protection option.
	Protected pulumi.BoolPtrInput
	// The list of public IPs of the server.
	PublicIps ServerPublicIpArrayInput
	// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
	ReplaceOnTypeChange pulumi.BoolPtrInput
	// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
	RootVolume ServerRootVolumePtrInput
	// The security group the server is attached to
	SecurityGroupId pulumi.StringPtrInput
	// The state of the server. Possible values are: `started`, `stopped` or `standby`.
	State pulumi.StringPtrInput
	// The tags associated with the server.
	Tags pulumi.StringArrayInput
	// The commercial type of the server.
	// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
	// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
	// Use `replaceOnTypeChange` to trigger replacement instead of migration.
	//
	// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
	Type pulumi.StringPtrInput
	// The user data associated with the server.
	// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
	// You can define values using:
	// - string
	// - UTF-8 encoded file content using file
	// - Binary files using filebase64.
	UserData pulumi.StringMapInput
	// `zone`) The zone in which the server should be created.
	Zone pulumi.StringPtrInput
}

func (ServerState) ElementType() reflect.Type {
	return reflect.TypeOf((*serverState)(nil)).Elem()
}

type serverArgs struct {
	// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
	// attached to the server. Updates to this field will trigger a stop/start of the server.
	//
	// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
	//
	// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
	AdditionalVolumeIds []string `pulumi:"additionalVolumeIds"`
	// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
	// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
	// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
	AdminPasswordEncryptionSshKeyId *string `pulumi:"adminPasswordEncryptionSshKeyId"`
	// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
	BootType *string `pulumi:"bootType"`
	// ID of the target bootscript (set bootType to bootscript)
	//
	// Deprecated: bootscript is not supported anymore.
	BootscriptId *string `pulumi:"bootscriptId"`
	// The cloud init script associated with this server
	CloudInit *string `pulumi:"cloudInit"`
	// If true a dynamic IP will be attached to the server.
	EnableDynamicIp *bool `pulumi:"enableDynamicIp"`
	// List of filesystems attached to the server.
	Filesystems []ServerFilesystem `pulumi:"filesystems"`
	// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
	// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
	//
	// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
	//
	// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
	Image *string `pulumi:"image"`
	// The ID of the reserved IP that is attached to the server.
	IpId *string `pulumi:"ipId"`
	// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
	//
	// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
	IpIds []string `pulumi:"ipIds"`
	// The name of the server.
	Name *string `pulumi:"name"`
	// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
	//
	// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
	PlacementGroupId *string `pulumi:"placementGroupId"`
	// The list of private IPv4 and IPv6 addresses associated with the resource.
	PrivateIps []ServerPrivateIp `pulumi:"privateIps"`
	// The private network associated with the server.
	// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
	PrivateNetworks []ServerPrivateNetwork `pulumi:"privateNetworks"`
	// `projectId`) The ID of the project the server is associated with.
	ProjectId *string `pulumi:"projectId"`
	// Set to true to activate server protection option.
	Protected *bool `pulumi:"protected"`
	// The list of public IPs of the server.
	PublicIps []ServerPublicIp `pulumi:"publicIps"`
	// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
	ReplaceOnTypeChange *bool `pulumi:"replaceOnTypeChange"`
	// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
	RootVolume *ServerRootVolume `pulumi:"rootVolume"`
	// The security group the server is attached to
	SecurityGroupId *string `pulumi:"securityGroupId"`
	// The state of the server. Possible values are: `started`, `stopped` or `standby`.
	State *string `pulumi:"state"`
	// The tags associated with the server.
	Tags []string `pulumi:"tags"`
	// The commercial type of the server.
	// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
	// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
	// Use `replaceOnTypeChange` to trigger replacement instead of migration.
	//
	// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
	Type string `pulumi:"type"`
	// The user data associated with the server.
	// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
	// You can define values using:
	// - string
	// - UTF-8 encoded file content using file
	// - Binary files using filebase64.
	UserData map[string]string `pulumi:"userData"`
	// `zone`) The zone in which the server should be created.
	Zone *string `pulumi:"zone"`
}

// The set of arguments for constructing a Server resource.
type ServerArgs struct {
	// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
	// attached to the server. Updates to this field will trigger a stop/start of the server.
	//
	// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
	//
	// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
	AdditionalVolumeIds pulumi.StringArrayInput
	// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
	// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
	// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
	AdminPasswordEncryptionSshKeyId pulumi.StringPtrInput
	// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
	BootType pulumi.StringPtrInput
	// ID of the target bootscript (set bootType to bootscript)
	//
	// Deprecated: bootscript is not supported anymore.
	BootscriptId pulumi.StringPtrInput
	// The cloud init script associated with this server
	CloudInit pulumi.StringPtrInput
	// If true a dynamic IP will be attached to the server.
	EnableDynamicIp pulumi.BoolPtrInput
	// List of filesystems attached to the server.
	Filesystems ServerFilesystemArrayInput
	// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
	// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
	//
	// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
	//
	// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
	Image pulumi.StringPtrInput
	// The ID of the reserved IP that is attached to the server.
	IpId pulumi.StringPtrInput
	// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
	//
	// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
	IpIds pulumi.StringArrayInput
	// The name of the server.
	Name pulumi.StringPtrInput
	// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
	//
	// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
	PlacementGroupId pulumi.StringPtrInput
	// The list of private IPv4 and IPv6 addresses associated with the resource.
	PrivateIps ServerPrivateIpArrayInput
	// The private network associated with the server.
	// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
	PrivateNetworks ServerPrivateNetworkArrayInput
	// `projectId`) The ID of the project the server is associated with.
	ProjectId pulumi.StringPtrInput
	// Set to true to activate server protection option.
	Protected pulumi.BoolPtrInput
	// The list of public IPs of the server.
	PublicIps ServerPublicIpArrayInput
	// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
	ReplaceOnTypeChange pulumi.BoolPtrInput
	// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
	RootVolume ServerRootVolumePtrInput
	// The security group the server is attached to
	SecurityGroupId pulumi.StringPtrInput
	// The state of the server. Possible values are: `started`, `stopped` or `standby`.
	State pulumi.StringPtrInput
	// The tags associated with the server.
	Tags pulumi.StringArrayInput
	// The commercial type of the server.
	// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
	// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
	// Use `replaceOnTypeChange` to trigger replacement instead of migration.
	//
	// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
	Type pulumi.StringInput
	// The user data associated with the server.
	// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
	// You can define values using:
	// - string
	// - UTF-8 encoded file content using file
	// - Binary files using filebase64.
	UserData pulumi.StringMapInput
	// `zone`) The zone in which the server should be created.
	Zone pulumi.StringPtrInput
}

func (ServerArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*serverArgs)(nil)).Elem()
}

type ServerInput interface {
	pulumi.Input

	ToServerOutput() ServerOutput
	ToServerOutputWithContext(ctx context.Context) ServerOutput
}

func (*Server) ElementType() reflect.Type {
	return reflect.TypeOf((**Server)(nil)).Elem()
}

func (i *Server) ToServerOutput() ServerOutput {
	return i.ToServerOutputWithContext(context.Background())
}

func (i *Server) ToServerOutputWithContext(ctx context.Context) ServerOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServerOutput)
}

// ServerArrayInput is an input type that accepts ServerArray and ServerArrayOutput values.
// You can construct a concrete instance of `ServerArrayInput` via:
//
//	ServerArray{ ServerArgs{...} }
type ServerArrayInput interface {
	pulumi.Input

	ToServerArrayOutput() ServerArrayOutput
	ToServerArrayOutputWithContext(context.Context) ServerArrayOutput
}

type ServerArray []ServerInput

func (ServerArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Server)(nil)).Elem()
}

func (i ServerArray) ToServerArrayOutput() ServerArrayOutput {
	return i.ToServerArrayOutputWithContext(context.Background())
}

func (i ServerArray) ToServerArrayOutputWithContext(ctx context.Context) ServerArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServerArrayOutput)
}

// ServerMapInput is an input type that accepts ServerMap and ServerMapOutput values.
// You can construct a concrete instance of `ServerMapInput` via:
//
//	ServerMap{ "key": ServerArgs{...} }
type ServerMapInput interface {
	pulumi.Input

	ToServerMapOutput() ServerMapOutput
	ToServerMapOutputWithContext(context.Context) ServerMapOutput
}

type ServerMap map[string]ServerInput

func (ServerMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Server)(nil)).Elem()
}

func (i ServerMap) ToServerMapOutput() ServerMapOutput {
	return i.ToServerMapOutputWithContext(context.Background())
}

func (i ServerMap) ToServerMapOutputWithContext(ctx context.Context) ServerMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServerMapOutput)
}

type ServerOutput struct{ *pulumi.OutputState }

func (ServerOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Server)(nil)).Elem()
}

func (o ServerOutput) ToServerOutput() ServerOutput {
	return o
}

func (o ServerOutput) ToServerOutputWithContext(ctx context.Context) ServerOutput {
	return o
}

// The [additional volumes](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types)
// attached to the server. Updates to this field will trigger a stop/start of the server.
//
// > **Important:** If this field contains local volumes, the `state` must be set to `stopped`, otherwise it will fail.
//
// > **Important:** If this field contains local volumes, you have to first detach them, in one apply, and then delete the volume in another apply.
func (o ServerOutput) AdditionalVolumeIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Server) pulumi.StringArrayOutput { return v.AdditionalVolumeIds }).(pulumi.StringArrayOutput)
}

// The ID of the SSH RSA key that will be used to encrypt the initial admin password for OS requiring it.
// Mandatory for Windows OS. The publicKey value of this key is used to encrypt the admin password.
// When set to an empty string, it resets this value and adminPasswordEncryptedValue to an empty string so a new password may be generated.
func (o ServerOutput) AdminPasswordEncryptionSshKeyId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.AdminPasswordEncryptionSshKeyId }).(pulumi.StringPtrOutput)
}

// The boot Type of the server. Possible values are: `local`, `bootscript` or `rescue`.
func (o ServerOutput) BootType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.BootType }).(pulumi.StringPtrOutput)
}

// ID of the target bootscript (set bootType to bootscript)
//
// Deprecated: bootscript is not supported anymore.
func (o ServerOutput) BootscriptId() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.BootscriptId }).(pulumi.StringOutput)
}

// The cloud init script associated with this server
func (o ServerOutput) CloudInit() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.CloudInit }).(pulumi.StringOutput)
}

// If true a dynamic IP will be attached to the server.
func (o ServerOutput) EnableDynamicIp() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.BoolPtrOutput { return v.EnableDynamicIp }).(pulumi.BoolPtrOutput)
}

// List of filesystems attached to the server.
func (o ServerOutput) Filesystems() ServerFilesystemArrayOutput {
	return o.ApplyT(func(v *Server) ServerFilesystemArrayOutput { return v.Filesystems }).(ServerFilesystemArrayOutput)
}

// The UUID or the label of the base image used by the server. You can use [this endpoint](https://www.scaleway.com/en/developers/api/marketplace/#path-marketplace-images-list-marketplace-images)
// to find either the right `label` or the right local image `ID` for a given `type`. Optional when creating an instance with an existing root volume.
//
// You can check the available labels with our [CLI](https://www.scaleway.com/en/docs/compute/instances/api-cli/creating-managing-instances-with-cliv2/). ```scw marketplace image list```
//
// To retrieve more information by label please use: ```scw marketplace image get label=<LABEL>```
func (o ServerOutput) Image() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.Image }).(pulumi.StringPtrOutput)
}

// The ID of the reserved IP that is attached to the server.
func (o ServerOutput) IpId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.IpId }).(pulumi.StringPtrOutput)
}

// List of ID of reserved IPs that are attached to the server. Cannot be used with `ipId`.
//
// > `ipId` to `ipIds` migration: if moving the ip from the old `ipId` field to the new `ipIds`, it should not detach the ip.
func (o ServerOutput) IpIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Server) pulumi.StringArrayOutput { return v.IpIds }).(pulumi.StringArrayOutput)
}

// The name of the server.
func (o ServerOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The organization ID the server is associated with.
func (o ServerOutput) OrganizationId() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.OrganizationId }).(pulumi.StringOutput)
}

// The [placement group](https://www.scaleway.com/en/developers/api/instance/#path-security-groups-update-a-security-group the server is attached to.
//
// > **Important:** When updating `placementGroupId` the `state` must be set to `stopped`, otherwise it will fail.
func (o ServerOutput) PlacementGroupId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.PlacementGroupId }).(pulumi.StringPtrOutput)
}

// (Deprecated) Always false, use instancePlacementGroup resource to known when the placement group policy is respected.
func (o ServerOutput) PlacementGroupPolicyRespected() pulumi.BoolOutput {
	return o.ApplyT(func(v *Server) pulumi.BoolOutput { return v.PlacementGroupPolicyRespected }).(pulumi.BoolOutput)
}

// The list of private IPv4 and IPv6 addresses associated with the resource.
func (o ServerOutput) PrivateIps() ServerPrivateIpArrayOutput {
	return o.ApplyT(func(v *Server) ServerPrivateIpArrayOutput { return v.PrivateIps }).(ServerPrivateIpArrayOutput)
}

// The private network associated with the server.
// Use the `pnId` key to attach a [privateNetwork](https://www.scaleway.com/en/developers/api/instance/#path-private-nics-list-all-private-nics) on your instance.
func (o ServerOutput) PrivateNetworks() ServerPrivateNetworkArrayOutput {
	return o.ApplyT(func(v *Server) ServerPrivateNetworkArrayOutput { return v.PrivateNetworks }).(ServerPrivateNetworkArrayOutput)
}

// `projectId`) The ID of the project the server is associated with.
func (o ServerOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// Set to true to activate server protection option.
func (o ServerOutput) Protected() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.BoolPtrOutput { return v.Protected }).(pulumi.BoolPtrOutput)
}

// The list of public IPs of the server.
func (o ServerOutput) PublicIps() ServerPublicIpArrayOutput {
	return o.ApplyT(func(v *Server) ServerPublicIpArrayOutput { return v.PublicIps }).(ServerPublicIpArrayOutput)
}

// If true, the server will be replaced if `type` is changed. Otherwise, the server will migrate.
func (o ServerOutput) ReplaceOnTypeChange() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.BoolPtrOutput { return v.ReplaceOnTypeChange }).(pulumi.BoolPtrOutput)
}

// Root [volume](https://www.scaleway.com/en/developers/api/instance/#path-volume-types-list-volume-types) attached to the server on creation.
func (o ServerOutput) RootVolume() ServerRootVolumeOutput {
	return o.ApplyT(func(v *Server) ServerRootVolumeOutput { return v.RootVolume }).(ServerRootVolumeOutput)
}

// The security group the server is attached to
func (o ServerOutput) SecurityGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.SecurityGroupId }).(pulumi.StringOutput)
}

// The state of the server. Possible values are: `started`, `stopped` or `standby`.
func (o ServerOutput) State() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.State }).(pulumi.StringPtrOutput)
}

// The tags associated with the server.
func (o ServerOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Server) pulumi.StringArrayOutput { return v.Tags }).(pulumi.StringArrayOutput)
}

// The commercial type of the server.
// You find all the available types on the [pricing page](https://www.scaleway.com/en/pricing/).
// Updates to this field will migrate the server, local storage constraint must be respected. [More info](https://www.scaleway.com/en/docs/compute/instances/api-cli/migrating-instances/).
// Use `replaceOnTypeChange` to trigger replacement instead of migration.
//
// > **Important:** If `type` change and migration occurs, the server will be stopped and changed backed to its original state. It will be started again if it was running.
func (o ServerOutput) Type() pulumi.StringOutput {
	return o.ApplyT(func(v *Server) pulumi.StringOutput { return v.Type }).(pulumi.StringOutput)
}

// The user data associated with the server.
// Use the `cloud-init` key to use [cloud-init](https://cloudinit.readthedocs.io/en/latest/) on your instance.
// You can define values using:
// - string
// - UTF-8 encoded file content using file
// - Binary files using filebase64.
func (o ServerOutput) UserData() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Server) pulumi.StringMapOutput { return v.UserData }).(pulumi.StringMapOutput)
}

// `zone`) The zone in which the server should be created.
func (o ServerOutput) Zone() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Server) pulumi.StringPtrOutput { return v.Zone }).(pulumi.StringPtrOutput)
}

type ServerArrayOutput struct{ *pulumi.OutputState }

func (ServerArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Server)(nil)).Elem()
}

func (o ServerArrayOutput) ToServerArrayOutput() ServerArrayOutput {
	return o
}

func (o ServerArrayOutput) ToServerArrayOutputWithContext(ctx context.Context) ServerArrayOutput {
	return o
}

func (o ServerArrayOutput) Index(i pulumi.IntInput) ServerOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Server {
		return vs[0].([]*Server)[vs[1].(int)]
	}).(ServerOutput)
}

type ServerMapOutput struct{ *pulumi.OutputState }

func (ServerMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Server)(nil)).Elem()
}

func (o ServerMapOutput) ToServerMapOutput() ServerMapOutput {
	return o
}

func (o ServerMapOutput) ToServerMapOutputWithContext(ctx context.Context) ServerMapOutput {
	return o
}

func (o ServerMapOutput) MapIndex(k pulumi.StringInput) ServerOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Server {
		return vs[0].(map[string]*Server)[vs[1].(string)]
	}).(ServerOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ServerInput)(nil)).Elem(), &Server{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServerArrayInput)(nil)).Elem(), ServerArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServerMapInput)(nil)).Elem(), ServerMap{})
	pulumi.RegisterOutputType(ServerOutput{})
	pulumi.RegisterOutputType(ServerArrayOutput{})
	pulumi.RegisterOutputType(ServerMapOutput{})
}
