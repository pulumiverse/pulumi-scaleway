// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package keymanager

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

// Gets information about a Key Manager Key. For more information, refer to the [Key Manager API documentation](https://www.scaleway.com/en/developers/api/key-manager/#path-keys-get-key-metadata).
//
// ## Example Usage
//
// ### Create a key and get its information
//
// The following commands allow you to:
//
// - create a key named `my-kms-key`
// - retrieve the key's information using the key's ID
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/keymanager"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Create a key
//			_, err := keymanager.NewKey(ctx, "symmetric", &keymanager.KeyArgs{
//				Name:        pulumi.String("my-kms-key"),
//				Region:      pulumi.String("fr-par"),
//				ProjectId:   pulumi.String("your-project-id"),
//				Usage:       pulumi.String("symmetric_encryption"),
//				Algorithm:   pulumi.String("aes_256_gcm"),
//				Description: pulumi.String("Key for encrypting secrets"),
//				Tags: pulumi.StringArray{
//					pulumi.String("env:prod"),
//					pulumi.String("kms"),
//				},
//				Unprotected: pulumi.Bool(true),
//				RotationPolicy: &keymanager.KeyRotationPolicyArgs{
//					RotationPeriod: pulumi.String("720h"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Get the key information by its ID
//			_, err = keymanager.LookupKey(ctx, &keymanager.LookupKeyArgs{
//				KeyId: "11111111-1111-1111-1111-111111111111",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func LookupKey(ctx *pulumi.Context, args *LookupKeyArgs, opts ...pulumi.InvokeOption) (*LookupKeyResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupKeyResult
	err := ctx.Invoke("scaleway:keymanager/getKey:getKey", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getKey.
type LookupKeyArgs struct {
	// ID of the key to target. Can be a plain UUID or a regional ID.
	KeyId string `pulumi:"keyId"`
	// `region`) The region in which the key was created.
	Region *string `pulumi:"region"`
}

// A collection of values returned by getKey.
type LookupKeyResult struct {
	Algorithm        string                 `pulumi:"algorithm"`
	CreatedAt        string                 `pulumi:"createdAt"`
	Description      string                 `pulumi:"description"`
	Id               string                 `pulumi:"id"`
	KeyId            string                 `pulumi:"keyId"`
	Locked           bool                   `pulumi:"locked"`
	Name             string                 `pulumi:"name"`
	Origin           string                 `pulumi:"origin"`
	ProjectId        string                 `pulumi:"projectId"`
	Protected        bool                   `pulumi:"protected"`
	Region           *string                `pulumi:"region"`
	RotatedAt        string                 `pulumi:"rotatedAt"`
	RotationCount    int                    `pulumi:"rotationCount"`
	RotationPolicies []GetKeyRotationPolicy `pulumi:"rotationPolicies"`
	State            string                 `pulumi:"state"`
	Tags             []string               `pulumi:"tags"`
	Unprotected      bool                   `pulumi:"unprotected"`
	UpdatedAt        string                 `pulumi:"updatedAt"`
	Usage            string                 `pulumi:"usage"`
}

func LookupKeyOutput(ctx *pulumi.Context, args LookupKeyOutputArgs, opts ...pulumi.InvokeOption) LookupKeyResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupKeyResultOutput, error) {
			args := v.(LookupKeyArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("scaleway:keymanager/getKey:getKey", args, LookupKeyResultOutput{}, options).(LookupKeyResultOutput), nil
		}).(LookupKeyResultOutput)
}

// A collection of arguments for invoking getKey.
type LookupKeyOutputArgs struct {
	// ID of the key to target. Can be a plain UUID or a regional ID.
	KeyId pulumi.StringInput `pulumi:"keyId"`
	// `region`) The region in which the key was created.
	Region pulumi.StringPtrInput `pulumi:"region"`
}

func (LookupKeyOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupKeyArgs)(nil)).Elem()
}

// A collection of values returned by getKey.
type LookupKeyResultOutput struct{ *pulumi.OutputState }

func (LookupKeyResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupKeyResult)(nil)).Elem()
}

func (o LookupKeyResultOutput) ToLookupKeyResultOutput() LookupKeyResultOutput {
	return o
}

func (o LookupKeyResultOutput) ToLookupKeyResultOutputWithContext(ctx context.Context) LookupKeyResultOutput {
	return o
}

func (o LookupKeyResultOutput) Algorithm() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Algorithm }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.CreatedAt }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Description }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) KeyId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.KeyId }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Locked() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupKeyResult) bool { return v.Locked }).(pulumi.BoolOutput)
}

func (o LookupKeyResultOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Name }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Origin() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Origin }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.ProjectId }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Protected() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupKeyResult) bool { return v.Protected }).(pulumi.BoolOutput)
}

func (o LookupKeyResultOutput) Region() pulumi.StringPtrOutput {
	return o.ApplyT(func(v LookupKeyResult) *string { return v.Region }).(pulumi.StringPtrOutput)
}

func (o LookupKeyResultOutput) RotatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.RotatedAt }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) RotationCount() pulumi.IntOutput {
	return o.ApplyT(func(v LookupKeyResult) int { return v.RotationCount }).(pulumi.IntOutput)
}

func (o LookupKeyResultOutput) RotationPolicies() GetKeyRotationPolicyArrayOutput {
	return o.ApplyT(func(v LookupKeyResult) []GetKeyRotationPolicy { return v.RotationPolicies }).(GetKeyRotationPolicyArrayOutput)
}

func (o LookupKeyResultOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.State }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v LookupKeyResult) []string { return v.Tags }).(pulumi.StringArrayOutput)
}

func (o LookupKeyResultOutput) Unprotected() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupKeyResult) bool { return v.Unprotected }).(pulumi.BoolOutput)
}

func (o LookupKeyResultOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.UpdatedAt }).(pulumi.StringOutput)
}

func (o LookupKeyResultOutput) Usage() pulumi.StringOutput {
	return o.ApplyT(func(v LookupKeyResult) string { return v.Usage }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupKeyResultOutput{})
}
