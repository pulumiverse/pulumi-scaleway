// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package s2svpn

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/internal"
)

// Creates and manages Scaleway Site-to-Site VPN Customer Gateways.
// A customer gateway represents your external VPN endpoint (e.g., a firewall, router, or VPN appliance).
//
// For more information, see [the main documentation](https://www.scaleway.com/en/docs/site-to-site-vpn/reference-content/understanding-s2svpn/).
//
// ## Example Usage
//
// ### Basic
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/s2svpn"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := s2svpn.NewCustomerGateway(ctx, "customer_gw", &s2svpn.CustomerGatewayArgs{
//				Name:       pulumi.String("my-customer-gateway"),
//				Ipv4Public: pulumi.String("203.0.113.1"),
//				Asn:        pulumi.Int(65000),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### With IPv6
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/s2svpn"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := s2svpn.NewCustomerGateway(ctx, "customer_gw", &s2svpn.CustomerGatewayArgs{
//				Name:       pulumi.String("my-customer-gateway"),
//				Ipv4Public: pulumi.String("203.0.113.1"),
//				Ipv6Public: pulumi.String("2001:db8::1"),
//				Asn:        pulumi.Int(65000),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Using Instance Public IP
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/instance"
//	"github.com/pulumiverse/pulumi-scaleway/sdk/go/scaleway/s2svpn"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			vpnEndpointIp, err := instance.NewIp(ctx, "vpn_endpoint_ip", nil)
//			if err != nil {
//				return err
//			}
//			_, err = instance.NewServer(ctx, "vpn_endpoint", &instance.ServerArgs{
//				Name:  pulumi.String("vpn-endpoint"),
//				Type:  pulumi.String("DEV1-S"),
//				Image: pulumi.String("ubuntu_jammy"),
//				IpIds: pulumi.StringArray{
//					vpnEndpointIp.ID(),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = s2svpn.NewCustomerGateway(ctx, "customer_gw", &s2svpn.CustomerGatewayArgs{
//				Name:       pulumi.String("my-customer-gateway"),
//				Ipv4Public: vpnEndpointIp.Address,
//				Asn:        pulumi.Int(65000),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Customer Gateways can be imported using `{region}/{id}`, e.g.
//
// bash
//
// ```sh
// $ pulumi import scaleway:s2svpn/customerGateway:CustomerGateway main fr-par/11111111-1111-1111-1111-111111111111
// ```
type CustomerGateway struct {
	pulumi.CustomResourceState

	// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
	Asn pulumi.IntOutput `pulumi:"asn"`
	// The date and time of the creation of the customer gateway (RFC 3339 format).
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The public IPv4 address of the customer gateway (your VPN endpoint).
	Ipv4Public pulumi.StringOutput `pulumi:"ipv4Public"`
	// The public IPv6 address of the customer gateway (your VPN endpoint).
	Ipv6Public pulumi.StringOutput `pulumi:"ipv6Public"`
	// The name of the customer gateway. If not provided, it will be randomly generated.
	Name pulumi.StringOutput `pulumi:"name"`
	// The Organization ID the customer gateway is associated with.
	OrganizationId pulumi.StringOutput `pulumi:"organizationId"`
	// `projectId`) The ID of the project the customer gateway is associated with.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// `region`) The region in which the customer gateway should be created.
	Region pulumi.StringPtrOutput `pulumi:"region"`
	// The list of tags to apply to the customer gateway.
	Tags pulumi.StringArrayOutput `pulumi:"tags"`
	// The date and time of the last update of the customer gateway (RFC 3339 format).
	UpdatedAt pulumi.StringOutput `pulumi:"updatedAt"`
}

// NewCustomerGateway registers a new resource with the given unique name, arguments, and options.
func NewCustomerGateway(ctx *pulumi.Context,
	name string, args *CustomerGatewayArgs, opts ...pulumi.ResourceOption) (*CustomerGateway, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Asn == nil {
		return nil, errors.New("invalid value for required argument 'Asn'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource CustomerGateway
	err := ctx.RegisterResource("scaleway:s2svpn/customerGateway:CustomerGateway", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCustomerGateway gets an existing CustomerGateway resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCustomerGateway(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CustomerGatewayState, opts ...pulumi.ResourceOption) (*CustomerGateway, error) {
	var resource CustomerGateway
	err := ctx.ReadResource("scaleway:s2svpn/customerGateway:CustomerGateway", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CustomerGateway resources.
type customerGatewayState struct {
	// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
	Asn *int `pulumi:"asn"`
	// The date and time of the creation of the customer gateway (RFC 3339 format).
	CreatedAt *string `pulumi:"createdAt"`
	// The public IPv4 address of the customer gateway (your VPN endpoint).
	Ipv4Public *string `pulumi:"ipv4Public"`
	// The public IPv6 address of the customer gateway (your VPN endpoint).
	Ipv6Public *string `pulumi:"ipv6Public"`
	// The name of the customer gateway. If not provided, it will be randomly generated.
	Name *string `pulumi:"name"`
	// The Organization ID the customer gateway is associated with.
	OrganizationId *string `pulumi:"organizationId"`
	// `projectId`) The ID of the project the customer gateway is associated with.
	ProjectId *string `pulumi:"projectId"`
	// `region`) The region in which the customer gateway should be created.
	Region *string `pulumi:"region"`
	// The list of tags to apply to the customer gateway.
	Tags []string `pulumi:"tags"`
	// The date and time of the last update of the customer gateway (RFC 3339 format).
	UpdatedAt *string `pulumi:"updatedAt"`
}

type CustomerGatewayState struct {
	// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
	Asn pulumi.IntPtrInput
	// The date and time of the creation of the customer gateway (RFC 3339 format).
	CreatedAt pulumi.StringPtrInput
	// The public IPv4 address of the customer gateway (your VPN endpoint).
	Ipv4Public pulumi.StringPtrInput
	// The public IPv6 address of the customer gateway (your VPN endpoint).
	Ipv6Public pulumi.StringPtrInput
	// The name of the customer gateway. If not provided, it will be randomly generated.
	Name pulumi.StringPtrInput
	// The Organization ID the customer gateway is associated with.
	OrganizationId pulumi.StringPtrInput
	// `projectId`) The ID of the project the customer gateway is associated with.
	ProjectId pulumi.StringPtrInput
	// `region`) The region in which the customer gateway should be created.
	Region pulumi.StringPtrInput
	// The list of tags to apply to the customer gateway.
	Tags pulumi.StringArrayInput
	// The date and time of the last update of the customer gateway (RFC 3339 format).
	UpdatedAt pulumi.StringPtrInput
}

func (CustomerGatewayState) ElementType() reflect.Type {
	return reflect.TypeOf((*customerGatewayState)(nil)).Elem()
}

type customerGatewayArgs struct {
	// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
	Asn int `pulumi:"asn"`
	// The public IPv4 address of the customer gateway (your VPN endpoint).
	Ipv4Public *string `pulumi:"ipv4Public"`
	// The public IPv6 address of the customer gateway (your VPN endpoint).
	Ipv6Public *string `pulumi:"ipv6Public"`
	// The name of the customer gateway. If not provided, it will be randomly generated.
	Name *string `pulumi:"name"`
	// `projectId`) The ID of the project the customer gateway is associated with.
	ProjectId *string `pulumi:"projectId"`
	// `region`) The region in which the customer gateway should be created.
	Region *string `pulumi:"region"`
	// The list of tags to apply to the customer gateway.
	Tags []string `pulumi:"tags"`
}

// The set of arguments for constructing a CustomerGateway resource.
type CustomerGatewayArgs struct {
	// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
	Asn pulumi.IntInput
	// The public IPv4 address of the customer gateway (your VPN endpoint).
	Ipv4Public pulumi.StringPtrInput
	// The public IPv6 address of the customer gateway (your VPN endpoint).
	Ipv6Public pulumi.StringPtrInput
	// The name of the customer gateway. If not provided, it will be randomly generated.
	Name pulumi.StringPtrInput
	// `projectId`) The ID of the project the customer gateway is associated with.
	ProjectId pulumi.StringPtrInput
	// `region`) The region in which the customer gateway should be created.
	Region pulumi.StringPtrInput
	// The list of tags to apply to the customer gateway.
	Tags pulumi.StringArrayInput
}

func (CustomerGatewayArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*customerGatewayArgs)(nil)).Elem()
}

type CustomerGatewayInput interface {
	pulumi.Input

	ToCustomerGatewayOutput() CustomerGatewayOutput
	ToCustomerGatewayOutputWithContext(ctx context.Context) CustomerGatewayOutput
}

func (*CustomerGateway) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomerGateway)(nil)).Elem()
}

func (i *CustomerGateway) ToCustomerGatewayOutput() CustomerGatewayOutput {
	return i.ToCustomerGatewayOutputWithContext(context.Background())
}

func (i *CustomerGateway) ToCustomerGatewayOutputWithContext(ctx context.Context) CustomerGatewayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerGatewayOutput)
}

// CustomerGatewayArrayInput is an input type that accepts CustomerGatewayArray and CustomerGatewayArrayOutput values.
// You can construct a concrete instance of `CustomerGatewayArrayInput` via:
//
//	CustomerGatewayArray{ CustomerGatewayArgs{...} }
type CustomerGatewayArrayInput interface {
	pulumi.Input

	ToCustomerGatewayArrayOutput() CustomerGatewayArrayOutput
	ToCustomerGatewayArrayOutputWithContext(context.Context) CustomerGatewayArrayOutput
}

type CustomerGatewayArray []CustomerGatewayInput

func (CustomerGatewayArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomerGateway)(nil)).Elem()
}

func (i CustomerGatewayArray) ToCustomerGatewayArrayOutput() CustomerGatewayArrayOutput {
	return i.ToCustomerGatewayArrayOutputWithContext(context.Background())
}

func (i CustomerGatewayArray) ToCustomerGatewayArrayOutputWithContext(ctx context.Context) CustomerGatewayArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerGatewayArrayOutput)
}

// CustomerGatewayMapInput is an input type that accepts CustomerGatewayMap and CustomerGatewayMapOutput values.
// You can construct a concrete instance of `CustomerGatewayMapInput` via:
//
//	CustomerGatewayMap{ "key": CustomerGatewayArgs{...} }
type CustomerGatewayMapInput interface {
	pulumi.Input

	ToCustomerGatewayMapOutput() CustomerGatewayMapOutput
	ToCustomerGatewayMapOutputWithContext(context.Context) CustomerGatewayMapOutput
}

type CustomerGatewayMap map[string]CustomerGatewayInput

func (CustomerGatewayMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomerGateway)(nil)).Elem()
}

func (i CustomerGatewayMap) ToCustomerGatewayMapOutput() CustomerGatewayMapOutput {
	return i.ToCustomerGatewayMapOutputWithContext(context.Background())
}

func (i CustomerGatewayMap) ToCustomerGatewayMapOutputWithContext(ctx context.Context) CustomerGatewayMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomerGatewayMapOutput)
}

type CustomerGatewayOutput struct{ *pulumi.OutputState }

func (CustomerGatewayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomerGateway)(nil)).Elem()
}

func (o CustomerGatewayOutput) ToCustomerGatewayOutput() CustomerGatewayOutput {
	return o
}

func (o CustomerGatewayOutput) ToCustomerGatewayOutputWithContext(ctx context.Context) CustomerGatewayOutput {
	return o
}

// The AS Number of the customer gateway. Must be different from Scaleway's ASN (12876). For testing, you can use a private ASN (64512-65535).
func (o CustomerGatewayOutput) Asn() pulumi.IntOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.IntOutput { return v.Asn }).(pulumi.IntOutput)
}

// The date and time of the creation of the customer gateway (RFC 3339 format).
func (o CustomerGatewayOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The public IPv4 address of the customer gateway (your VPN endpoint).
func (o CustomerGatewayOutput) Ipv4Public() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.Ipv4Public }).(pulumi.StringOutput)
}

// The public IPv6 address of the customer gateway (your VPN endpoint).
func (o CustomerGatewayOutput) Ipv6Public() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.Ipv6Public }).(pulumi.StringOutput)
}

// The name of the customer gateway. If not provided, it will be randomly generated.
func (o CustomerGatewayOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The Organization ID the customer gateway is associated with.
func (o CustomerGatewayOutput) OrganizationId() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.OrganizationId }).(pulumi.StringOutput)
}

// `projectId`) The ID of the project the customer gateway is associated with.
func (o CustomerGatewayOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// `region`) The region in which the customer gateway should be created.
func (o CustomerGatewayOutput) Region() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringPtrOutput { return v.Region }).(pulumi.StringPtrOutput)
}

// The list of tags to apply to the customer gateway.
func (o CustomerGatewayOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringArrayOutput { return v.Tags }).(pulumi.StringArrayOutput)
}

// The date and time of the last update of the customer gateway (RFC 3339 format).
func (o CustomerGatewayOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomerGateway) pulumi.StringOutput { return v.UpdatedAt }).(pulumi.StringOutput)
}

type CustomerGatewayArrayOutput struct{ *pulumi.OutputState }

func (CustomerGatewayArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomerGateway)(nil)).Elem()
}

func (o CustomerGatewayArrayOutput) ToCustomerGatewayArrayOutput() CustomerGatewayArrayOutput {
	return o
}

func (o CustomerGatewayArrayOutput) ToCustomerGatewayArrayOutputWithContext(ctx context.Context) CustomerGatewayArrayOutput {
	return o
}

func (o CustomerGatewayArrayOutput) Index(i pulumi.IntInput) CustomerGatewayOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CustomerGateway {
		return vs[0].([]*CustomerGateway)[vs[1].(int)]
	}).(CustomerGatewayOutput)
}

type CustomerGatewayMapOutput struct{ *pulumi.OutputState }

func (CustomerGatewayMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomerGateway)(nil)).Elem()
}

func (o CustomerGatewayMapOutput) ToCustomerGatewayMapOutput() CustomerGatewayMapOutput {
	return o
}

func (o CustomerGatewayMapOutput) ToCustomerGatewayMapOutputWithContext(ctx context.Context) CustomerGatewayMapOutput {
	return o
}

func (o CustomerGatewayMapOutput) MapIndex(k pulumi.StringInput) CustomerGatewayOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CustomerGateway {
		return vs[0].(map[string]*CustomerGateway)[vs[1].(string)]
	}).(CustomerGatewayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerGatewayInput)(nil)).Elem(), &CustomerGateway{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerGatewayArrayInput)(nil)).Elem(), CustomerGatewayArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomerGatewayMapInput)(nil)).Elem(), CustomerGatewayMap{})
	pulumi.RegisterOutputType(CustomerGatewayOutput{})
	pulumi.RegisterOutputType(CustomerGatewayArrayOutput{})
	pulumi.RegisterOutputType(CustomerGatewayMapOutput{})
}
